import asyncio
import httpx
import json
import time

async def test_api():
    url = "https://be.khodalmaa.in/api/v1/project2_data"  # Change to your API endpoint

    payloads = [
        {"machine2": [1,2,3,4,5,6,7,8,9,10]},
        {"machine4": [1]},
    ]

    async with httpx.AsyncClient() as client:
        for data in payloads:
            try:
                resp = await client.post(url, json=data, timeout=10)
                print(f"Sent: {data}")
                print(f"Status: {resp.status_code}, Response: {resp.text}")
            except Exception as e:
                print(f"Error sending {data}: {e}")




async def test_api_1():
    url = "https://be.khodalmaa.in/api/v1/project1_data"  # Change to your API endpoint

    payloads = [
        {"machine1": {
  "1": [
    "128 -> 200",
    "137 -> 200",
    "146 -> 400",
    "236 -> 850",
    "245 -> 400",
    "290 -> 1700",
    "380 -> 400",
    "470 -> 111",
    "489 -> 800",
    "560 -> 1750",
    "579 -> 550",
    "678 -> 0",
    "100 -> 400",
    "119 -> 0",
    "155 -> 1150",
    "227 -> 600",
    "335 -> 500",
    "344 -> 7000",
    "399 -> 8000",
    "588 -> 300",
    "669 -> 400",
    "777 -> 300"
  ],
  "2": [
    "129 -> 2050",
    "138 -> 2150",
    "147 -> 1300",
    "156 -> 950",
    "237 -> 900",
    "246 -> 760",
    "345 -> 1150",
    "390 -> 2350",
    "480 -> 1850",
    "570 -> 1800",
    "589 -> 850",
    "679 -> 1000",
    "110 -> 550",
    "200 -> 1300",
    "228 -> 550",
    "255 -> 850",
    "336 -> 0",
    "499 -> 1350",
    "660 -> 2050",
    "688 -> 100",
    "778 -> 100",
    "444 -> 0"
  ],
  "3": [
    "120 -> 1150",
    "139 -> 1110",
    "148 -> 1110",
    "157 -> 550",
    "238 -> 700",
    "247 -> 750",
    "256 -> 850",
    "346 -> 0",
    "490 -> 700",
    "580 -> 350",
    "670 -> 550",
    "689 -> 560",
    "166 -> 150",
    "229 -> 300",
    "300 -> 1050",
    "337 -> 0",
    "355 -> 0",
    "445 -> 100",
    "599 -> 550",
    "779 -> 300",
    "788 -> 100",
    "111 -> 1600"
  ],
  "4": [
    "130 -> 600",
    "149 -> 1050",
    "158 -> 200",
    "167 -> 1000",
    "239 -> 1100",
    "248 -> 650",
    "257 -> 710",
    "347 -> 7550",
    "356 -> 750",
    "590 -> 100",
    "680 -> 750",
    "789 -> 1350",
    "112 -> 4500",
    "220 -> 660",
    "266 -> 1150",
    "338 -> 800",
    "400 -> 650",
    "446 -> 100",
    "455 -> 750",
    "699 -> 450",
    "770 -> 1460",
    "888 -> 800"
  ],
  "5": [
    "140 -> 900",
    "159 -> 2250",
    "168 -> 1000",
    "230 -> 900",
    "249 -> 700",
    "258 -> 2450",
    "267 -> 450",
    "348 -> 7900",
    "357 -> 750",
    "456 -> 650",
    "690 -> 1050",
    "780 -> 1000",
    "113 -> 100",
    "122 -> 450",
    "177 -> 0",
    "339 -> 0",
    "366 -> 0",
    "447 -> 200",
    "500 -> 400",
    "799 -> 100",
    "889 -> 250",
    "555 -> 0"
  ],
  "6": [
    "123 -> 2000",
    "150 -> 1450",
    "169 -> 450",
    "178 -> 1300",
    "240 -> 550",
    "259 -> 550",
    "268 -> 700",
    "349 -> 750",
    "358 -> 650",
    "367 -> 1450",
    "457 -> 500",
    "790 -> 2900",
    "114 -> 0",
    "277 -> 0",
    "330 -> 0",
    "448 -> 200",
    "466 -> 150",
    "556 -> 300",
    "600 -> 800",
    "880 -> 500",
    "899 -> 0",
    "222 -> 200"
  ],
  "7": [
    "124 -> 1650",
    "160 -> 5250",
    "179 -> 1300",
    "250 -> 700",
    "269 -> 750",
    "278 -> 450",
    "340 -> 18000",
    "359 -> 400",
    "368 -> 550",
    "458 -> 1750",
    "467 -> 1000",
    "890 -> 400",
    "115 -> 100",
    "133 -> 650",
    "188 -> 1000",
    "223 -> 600",
    "377 -> 0",
    "449 -> 200",
    "557 -> 300",
    "566 -> 550",
    "700 -> 600",
    "999 -> 0"
  ],
  "8": [
    "125 -> 1350",
    "134 -> 1310",
    "170 -> 650",
    "189 -> 1960",
    "260 -> 750",
    "279 -> 1000",
    "350 -> 250",
    "369 -> 760",
    "378 -> 550",
    "459 -> 950",
    "468 -> 1060",
    "567 -> 600",
    "116 -> 700",
    "224 -> 7450",
    "233 -> 150",
    "288 -> 350",
    "440 -> 500",
    "477 -> 350",
    "558 -> 350",
    "800 -> 137",
    "990 -> 150",
    "666 -> 0"
  ],
  "9": [
    "126 -> 900",
    "135 -> 300",
    "180 -> 900",
    "234 -> 1100",
    "270 -> 810",
    "289 -> 1050",
    "360 -> 300",
    "379 -> 900",
    "450 -> 1800",
    "469 -> 400",
    "478 -> 800",
    "568 -> 750",
    "117 -> 770",
    "144 -> 300",
    "199 -> 650",
    "225 -> 1760",
    "388 -> 750",
    "559 -> 200",
    "577 -> 360",
    "667 -> 550",
    "900 -> 650",
    "333 -> 0"
  ],
  "10": [
    "127 -> 1800",
    "136 -> 2450",
    "145 -> 800",
    "190 -> 800",
    "235 -> 650",
    "280 -> 2000",
    "370 -> 1200",
    "389 -> 850",
    "460 -> 650",
    "479 -> 0",
    "569 -> 1150",
    "578 -> 1150",
    "118 -> 1300",
    "226 -> 200",
    "244 -> 300",
    "299 -> 300",
    "334 -> 700",
    "488 -> 400",
    "550 -> 300",
    "668 -> 200",
    "677 -> 300",
    "000 -> 129"
  ]
}},
        {"machine2": {
  "1": [
    "128 -> 0",
    "137 -> 600",
    "146 -> 400",
    "236 -> 850",
    "245 -> 400",
    "290 -> 1700",
    "380 -> 400",
    "470 -> 111",
    "489 -> 800",
    "560 -> 1750",
    "579 -> 550",
    "678 -> 0",
    "100 -> 400",
    "119 -> 0",
    "155 -> 1150",
    "227 -> 600",
    "335 -> 0",
    "344 -> 0",
    "399 -> 0",
    "588 -> 300",
    "669 -> 0",
    "777 -> 0"
  ],
  "2": [
    "129 -> 2050",
    "138 -> 2150",
    "147 -> 1300",
    "156 -> 950",
    "237 -> 900",
    "246 -> 760",
    "345 -> 1150",
    "390 -> 2350",
    "480 -> 1850",
    "570 -> 1800",
    "589 -> 850",
    "679 -> 1000",
    "110 -> 550",
    "200 -> 1300",
    "228 -> 550",
    "255 -> 850",
    "336 -> 0",
    "499 -> 1350",
    "660 -> 2050",
    "688 -> 100",
    "778 -> 100",
    "444 -> 0"
  ],
  "3": [
    "120 -> 1150",
    "139 -> 1110",
    "148 -> 1110",
    "157 -> 550",
    "238 -> 700",
    "247 -> 750",
    "256 -> 850",
    "346 -> 0",
    "490 -> 700",
    "580 -> 350",
    "670 -> 550",
    "689 -> 560",
    "166 -> 150",
    "229 -> 300",
    "300 -> 1050",
    "337 -> 0",
    "355 -> 0",
    "445 -> 100",
    "599 -> 550",
    "779 -> 300",
    "788 -> 100",
    "111 -> 1600"
  ],
  "4": [
    "130 -> 600",
    "149 -> 1050",
    "158 -> 200",
    "167 -> 1000",
    "239 -> 1100",
    "248 -> 650",
    "257 -> 710",
    "347 -> 7550",
    "356 -> 750",
    "590 -> 100",
    "680 -> 750",
    "789 -> 1350",
    "112 -> 4500",
    "220 -> 660",
    "266 -> 1150",
    "338 -> 800",
    "400 -> 650",
    "446 -> 100",
    "455 -> 750",
    "699 -> 450",
    "770 -> 1460",
    "888 -> 800"
  ],
  "5": [
    "140 -> 900",
    "159 -> 2250",
    "168 -> 1000",
    "230 -> 900",
    "249 -> 700",
    "258 -> 2450",
    "267 -> 450",
    "348 -> 7900",
    "357 -> 750",
    "456 -> 650",
    "690 -> 1050",
    "780 -> 1000",
    "113 -> 100",
    "122 -> 450",
    "177 -> 1000",
    "339 -> 1000",
    "366 -> 1000",
    "447 -> 200",
    "500 -> 400",
    "799 -> 100",
    "889 -> 250",
    "555 -> 1000"
  ],
  "6": [
    "123 -> 2000",
    "150 -> 1450",
    "169 -> 450",
    "178 -> 1300",
    "240 -> 550",
    "259 -> 550",
    "268 -> 700",
    "349 -> 750",
    "358 -> 650",
    "367 -> 1450",
    "457 -> 500",
    "790 -> 2900",
    "114 -> 1000",
    "277 -> 1000",
    "330 -> 1000",
    "448 -> 200",
    "466 -> 150",
    "556 -> 300",
    "600 -> 800",
    "880 -> 500",
    "899 -> 1000",
    "222 -> 200"
  ],
  "7": [
    "124 -> 1650",
    "160 -> 5250",
    "179 -> 1300",
    "250 -> 700",
    "269 -> 750",
    "278 -> 450",
    "340 -> 18000",
    "359 -> 400",
    "368 -> 550",
    "458 -> 1750",
    "467 -> 1000",
    "890 -> 400",
    "115 -> 100",
    "133 -> 650",
    "188 -> 1000",
    "223 -> 600",
    "377 -> 1000",
    "449 -> 200",
    "557 -> 300",
    "566 -> 550",
    "700 -> 600",
    "999 -> 1000"
  ],
  "8": [
    "125 -> 1350",
    "134 -> 1310",
    "170 -> 650",
    "189 -> 1960",
    "260 -> 750",
    "279 -> 1000",
    "350 -> 250",
    "369 -> 760",
    "378 -> 550",
    "459 -> 950",
    "468 -> 1060",
    "567 -> 600",
    "116 -> 700",
    "224 -> 7450",
    "233 -> 150",
    "288 -> 350",
    "440 -> 500",
    "477 -> 350",
    "558 -> 350",
    "800 -> 137",
    "990 -> 150",
    "666 -> 1000"
  ],
  "9": [
    "126 -> 900",
    "135 -> 300",
    "180 -> 900",
    "234 -> 1100",
    "270 -> 810",
    "289 -> 1050",
    "360 -> 300",
    "379 -> 900",
    "450 -> 1800",
    "469 -> 400",
    "478 -> 800",
    "568 -> 750",
    "117 -> 770",
    "144 -> 300",
    "199 -> 650",
    "225 -> 1760",
    "388 -> 750",
    "559 -> 200",
    "577 -> 360",
    "667 -> 550",
    "900 -> 650",
    "333 -> 1000"
  ],
  "10": [
    "127 -> 1800",
    "136 -> 2450",
    "145 -> 800",
    "190 -> 800",
    "235 -> 650",
    "280 -> 2000",
    "370 -> 1200",
    "389 -> 850",
    "460 -> 650",
    "479 -> 1000",
    "569 -> 1150",
    "578 -> 1150",
    "118 -> 1300",
    "226 -> 200",
    "244 -> 300",
    "299 -> 300",
    "334 -> 700",
    "488 -> 400",
    "550 -> 300",
    "668 -> 200",
    "677 -> 300",
    "000 -> 129"
  ]
}},
        {"machine3":{
  "1": [
    "128 -> 1000",
    "137 -> 600",
    "146 -> 400",
    "236 -> 850",
    "245 -> 400",
    "290 -> 1700",
    "380 -> 400",
    "470 -> 111",
    "489 -> 800",
    "560 -> 1750",
    "579 -> 550",
    "678 -> 1000",
    "100 -> 400",
    "119 -> 1000",
    "155 -> 1150",
    "227 -> 600",
    "335 -> 1000",
    "344 -> 1000",
    "399 -> 1000",
    "588 -> 300",
    "669 -> 1000",
    "777 -> 1000"
  ],
  "2": [
    "129 -> 2050",
    "138 -> 2150",
    "147 -> 1300",
    "156 -> 950",
    "237 -> 900",
    "246 -> 760",
    "345 -> 1150",
    "390 -> 2350",
    "480 -> 1850",
    "570 -> 1800",
    "589 -> 850",
    "679 -> 1000",
    "110 -> 550",
    "200 -> 1300",
    "228 -> 550",
    "255 -> 850",
    "336 -> 1000",
    "499 -> 1350",
    "660 -> 2050",
    "688 -> 100",
    "778 -> 100",
    "444 -> 1000"
  ],
  "3": [
    "120 -> 1150",
    "139 -> 1110",
    "148 -> 1110",
    "157 -> 550",
    "238 -> 700",
    "247 -> 750",
    "256 -> 850",
    "346 -> 1000",
    "490 -> 700",
    "580 -> 350",
    "670 -> 550",
    "689 -> 560",
    "166 -> 150",
    "229 -> 300",
    "300 -> 1050",
    "337 -> 1000",
    "355 -> 1000",
    "445 -> 100",
    "599 -> 550",
    "779 -> 300",
    "788 -> 100",
    "111 -> 1600"
  ],
  "4": [
    "130 -> 600",
    "149 -> 1050",
    "158 -> 200",
    "167 -> 1000",
    "239 -> 1100",
    "248 -> 650",
    "257 -> 710",
    "347 -> 7550",
    "356 -> 750",
    "590 -> 100",
    "680 -> 750",
    "789 -> 1350",
    "112 -> 4500",
    "220 -> 660",
    "266 -> 1150",
    "338 -> 800",
    "400 -> 650",
    "446 -> 100",
    "455 -> 750",
    "699 -> 450",
    "770 -> 1460",
    "888 -> 800"
  ],
  "5": [
    "140 -> 900",
    "159 -> 2250",
    "168 -> 1000",
    "230 -> 900",
    "249 -> 700",
    "258 -> 2450",
    "267 -> 450",
    "348 -> 7900",
    "357 -> 750",
    "456 -> 650",
    "690 -> 1050",
    "780 -> 1000",
    "113 -> 100",
    "122 -> 450",
    "177 -> 1000",
    "339 -> 1000",
    "366 -> 1000",
    "447 -> 200",
    "500 -> 400",
    "799 -> 100",
    "889 -> 250",
    "555 -> 1000"
  ],
  "6": [
    "123 -> 2000",
    "150 -> 1450",
    "169 -> 450",
    "178 -> 1300",
    "240 -> 550",
    "259 -> 550",
    "268 -> 700",
    "349 -> 750",
    "358 -> 650",
    "367 -> 1450",
    "457 -> 500",
    "790 -> 2900",
    "114 -> 0",
    "277 -> 0",
    "330 -> 0",
    "448 -> 200",
    "466 -> 150",
    "556 -> 300",
    "600 -> 800",
    "880 -> 500",
    "899 -> 0",
    "222 -> 200"
  ],
  "7": [
    "124 -> 1650",
    "160 -> 5250",
    "179 -> 1300",
    "250 -> 700",
    "269 -> 750",
    "278 -> 450",
    "340 -> 18000",
    "359 -> 400",
    "368 -> 550",
    "458 -> 1750",
    "467 -> 1000",
    "890 -> 400",
    "115 -> 100",
    "133 -> 650",
    "188 -> 1000",
    "223 -> 600",
    "377 -> 0",
    "449 -> 200",
    "557 -> 300",
    "566 -> 550",
    "700 -> 600",
    "999 -> 0"
  ],
  "8": [
    "125 -> 1350",
    "134 -> 1310",
    "170 -> 650",
    "189 -> 1960",
    "260 -> 750",
    "279 -> 1000",
    "350 -> 250",
    "369 -> 760",
    "378 -> 550",
    "459 -> 950",
    "468 -> 1060",
    "567 -> 600",
    "116 -> 700",
    "224 -> 7450",
    "233 -> 150",
    "288 -> 350",
    "440 -> 500",
    "477 -> 350",
    "558 -> 350",
    "800 -> 137",
    "990 -> 150",
    "666 -> 0"
  ],
  "9": [
    "126 -> 900",
    "135 -> 300",
    "180 -> 900",
    "234 -> 1100",
    "270 -> 810",
    "289 -> 1050",
    "360 -> 300",
    "379 -> 900",
    "450 -> 1800",
    "469 -> 400",
    "478 -> 800",
    "568 -> 750",
    "117 -> 770",
    "144 -> 300",
    "199 -> 650",
    "225 -> 1760",
    "388 -> 750",
    "559 -> 200",
    "577 -> 360",
    "667 -> 550",
    "900 -> 650",
    "333 -> 0"
  ],
  "10": [
    "127 -> 1800",
    "136 -> 2450",
    "145 -> 800",
    "190 -> 800",
    "235 -> 650",
    "280 -> 2000",
    "370 -> 1200",
    "389 -> 850",
    "460 -> 650",
    "479 -> 0",
    "569 -> 1150",
    "578 -> 1150",
    "118 -> 1300",
    "226 -> 200",
    "244 -> 300",
    "299 -> 300",
    "334 -> 700",
    "488 -> 400",
    "550 -> 300",
    "668 -> 200",
    "677 -> 300",
    "000 -> 129"
  ]
}},
    ]

    async with httpx.AsyncClient() as client:
        for data in payloads:
            try:
                resp = await client.post(url, json=data, timeout=10)
                print(f"Sent: {data}")
                print(f"Status: {resp.status_code}, Response: {resp.text}")
            except Exception as e:
                print(f"Error sending {data}: {e}")


while True:
    time.sleep(5)
    asyncio.run(test_api_1())


